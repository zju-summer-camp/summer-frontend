(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1efc7c20"],{"164e":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"editor-wrapper"},[n("editor",{attrs:{init:e.initConfig,itemConfig:e.itemConfig,formConfig:e.formConfig},model:{value:e.itemConfig.value,callback:function(t){e.$set(e.itemConfig,"value",t)},expression:"itemConfig.value"}})],1)},i=[],r=n("9ab4"),a=n("1b40"),s=function(){return{listeners:[],scriptId:"tiny-script",scriptLoaded:!1}},c=function(){var e=s(),t=function(e,t,n,o){var i=t.createElement("script");i.referrerPolicy="origin",i.type="application/javascript",i.id=e,i.src=n;var r=function(){i.removeEventListener("load",r),o()};i.addEventListener("load",r),t.head&&t.head.appendChild(i)},n=function(n,o,i){e.scriptLoaded?i():(e.listeners.push(i),n.getElementById(e.scriptId)||t(e.scriptId,n,o,(function(){e.listeners.forEach((function(e){return e()})),e.scriptLoaded=!0})))},o=function(){e=s()};return{load:n,reinitialize:o}},l=c(),u=function(){return window&&window.tinymce?window.tinymce:null},p=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],d=function(e){return-1!==p.map((function(e){return e.toLowerCase()})).indexOf(e.toLowerCase())},f=function(e,t,n){Object.keys(t).filter(d).forEach((function(o){var i=t[o];"function"===typeof i&&("onInit"===o?i(e,n):n.on(o.substring(2),(function(e){return i(e,n)})))}))},m=function(e,t){var n=e.$props.modelEvents?e.$props.modelEvents:null,o=Array.isArray(n)?n.join(" "):n;t.on(o||"change input undo redo",(function(){e.$emit("input",t.getContent({format:e.$props.outputFormat}))}))},h=function(e,t,n){var o=t.$props.value?t.$props.value:"",i=t.$props.initialValue?t.$props.initialValue:"";n.setContent(o||(t.initialized?t.cache:i)),t.$watch("value",(function(e,o){n&&"string"===typeof e&&e!==o&&e!==n.getContent({format:t.$props.outputFormat})&&n.setContent(e)})),t.$listeners.input&&m(t,n),f(e,t.$listeners,n),t.initialized=!0},b=0,g=function(e){var t=Date.now(),n=Math.floor(1e9*Math.random());return b++,e+"_"+n+b+String(t)},v=function(e){return null!==e&&"textarea"===e.tagName.toLowerCase()},y=function(e){return"undefined"===typeof e||""===e?[]:Array.isArray(e)?e:e.split(" ")},C=function(e,t){return y(e).concat(y(t))},$=function(e){return null===e||void 0===e},j={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return"html"===e||"text"===e}},itemConf:{type:Object},formConfig:{type:Object}},O=function(e,t,n){return e(n||"div",{attrs:{id:t}})},S=function(e,t){return e("textarea",{attrs:{id:t},style:{visibility:"hidden"}})},w=function(e){return function(){var t=Object(r["a"])(Object(r["a"])({},e.$props.init),{readonly:e.$props.disabled,selector:"#"+e.elementId,plugins:C(e.$props.init&&e.$props.init.plugins,e.$props.plugins),toolbar:e.$props.toolbar||e.$props.init&&e.$props.init.toolbar,inline:e.inlineEditor,setup:function(t){e.editor=t,t.on("init",(function(n){return h(n,e,t)})),e.$props.init&&"function"===typeof e.$props.init.setup&&e.$props.init.setup(t)}});v(e.element)&&(e.element.style.visibility="",e.element.style.display=""),u().init(t)}},k={props:j,created:function(){this.elementId=this.$props.id||g("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline,this.initialized=!1},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==u())w(this)();else if(this.element&&this.element.ownerDocument){var e=this.$props.cloudChannel?this.$props.cloudChannel:"5",t=this.$props.apiKey?this.$props.apiKey:"no-api-key",n=$(this.$props.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+t+"/tinymce/"+e+"/tinymce.min.js":this.$props.tinymceScriptSrc;l.load(this.element.ownerDocument,n,w(this))}},beforeDestroy:function(){null!==u()&&u().remove(this.editor)},deactivated:function(){var e;this.inlineEditor||(this.cache=this.editor.getContent(),null===(e=u())||void 0===e||e.remove(this.editor))},activated:function(){!this.inlineEditor&&this.initialized&&w(this)()},render:function(e){return this.inlineEditor?O(e,this.elementId,this.$props.tagName):S(e,this.elementId)}},D=k,E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.initConfig={language:"zh_CN",plugins:"print preview searchreplace autolink directionality visualchars fullscreen image link media template code table charmap hr pagebreak nonbreaking anchor insertdatetime advlist lists wordcount imagetools textpattern paste emoticons",toolbar:"code forecolor backcolor bold italic underline strikethrough link anchor | alignleft aligncenter alignright indent2em lineheight |     bullist numlist | blockquote subscript superscript removeformat |     table image media bdmap emoticons charmap hr pagebreak insertdatetime | fullscreen ",height:"500px",resize:!0},t}return Object(r["c"])(t,e),Object(r["b"])([Object(a["b"])({type:Object,default:function(){return{}}})],t.prototype,"itemConfig",void 0),Object(r["b"])([Object(a["b"])({type:Object,default:function(){return{}}})],t.prototype,"formConfig",void 0),t=Object(r["b"])([Object(a["a"])({components:{Editor:D}})],t),t}(a["c"]),x=E,A=x,I=(n("63ae"),n("2877")),M=Object(I["a"])(A,o,i,!1,null,null,null);t["default"]=M.exports},1881:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var o={encode:function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){var n=Number("0x"+t);return String.fromCharCode(n)})))},decode:function(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}};function i(e){return o.encode(e)}function r(e){return o.decode(e)}},"1c45":function(e,t,n){"use strict";n("950c")},"63ae":function(e,t,n){"use strict";n("9f20")},"6c70":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"upload-wrapper"},[n("div",{staticClass:"form-wrapper"},[n("dq-form",{attrs:{formConfig:e.formConfig}})],1)])},i=[],r=n("9ab4"),a=n("1b40"),s=n("bb4e"),c=n("164e"),l=n("bc3a"),u=n.n(l),p=n("1881"),d=n("79f6"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.formConfig={width:"80%",items:{projectName:{hint:"请输入项目名称",label:"项目名称",placeholder:"请输入项目名称",type:"input",value:"",submitkey:"Name",error:"",required:!0,rules:[]},deadline:{label:"截止日期",placeholder:"请输入",type:"component",component:function(){return n.e("chunk-6a6303ff").then(n.bind(null,"64e2"))},required:!0,value:"",error:"",submitkey:"Deadline",rules:[]},tutor:{label:"导师团队",placeholder:"请输入导师团队（可能需要改成选项）",required:!0,type:"input",value:"",error:"",submitkey:"Team",rules:[]},academy:{label:"所属学院",placeholder:"请输入所属学院",required:!0,type:"input",value:"",error:"",submitkey:"Academy",rules:[]},content:{label:"内容详情",placeholder:"请输入",type:"component",component:function(){return Promise.resolve().then(n.bind(null,"164e"))},required:!0,ref:"infoEditor",value:"",submitkey:"Detail",error:"",rules:[]}},buttons:{submit:{name:"submit",text:"上传",type:"submit",func:function(e){e.Detail=Object(p["b"])(e.Detail),console.log("data.content",e.Deatil),console.log("data encoded",Object(p["b"])(e.Detail)),u()({url:d["a"].createproject,data:e,method:"post"}).then((function(e){e.data&&10011===e.data.code&&(t.$message("上传成功"),alert("上传成功，请在“资讯管理”中发布"))})).catch((function(e){t.$message("未知错误，请重试"),console.log("upload fail",e),alert("上传失败，请重试")}))}},reset:{name:"reset",type:"reset",text:"重置"}}},t}return Object(r["c"])(t,e),t=Object(r["b"])([Object(a["a"])({components:{DqForm:s["a"],InfoEditor:c["default"]}})],t),t}(a["c"]),m=f,h=m,b=(n("1c45"),n("2877")),g=Object(b["a"])(h,o,i,!1,null,null,null);t["default"]=g.exports},"950c":function(e,t,n){},"9f20":function(e,t,n){}}]);
//# sourceMappingURL=chunk-1efc7c20.299c49d6.js.map